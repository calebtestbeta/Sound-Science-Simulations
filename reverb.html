<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>室內聲學：房間殘響與迴音模擬</title>
    
    <link rel="stylesheet" href="reverb.css">
    
    <link rel="icon" type="image/png" href="favicon.png"> 
</head>
<body>
    <div class="container">
        
        <h1>🏠 房間殘響與迴音模擬</h1>
        <p>模擬房間大小和牆壁材質（硬或軟）如何影響聲音在室內**迴盪的時間** ($\text{RT60}$)。</p>

        <div class="controls-grid">
            
            <div class="parameter-input">
                <h2>房間尺寸與材質</h2>

                <div class="control-group">
                    <label for="roomLength">房間長度 (米): <span id="currentLength">10</span> m</label>
                    <input type="number" id="roomLength" min="5" max="30" value="10" step="0.5">
                </div>
                
                <div class="control-group">
                    <label for="roomWidth">房間寬度 (米): <span id="currentWidth">8</span> m</label>
                    <input type="number" id="roomWidth" min="5" max="30" value="8" step="0.5">
                </div>
                
                <div class="control-group">
                    <label for="materialSelect">牆壁材質：</label>
                    <select id="materialSelect">
                        <option value="hard">硬質表面 (例如：磁磚、大理石)</option>
                        <option value="medium" selected>中等表面 (例如：石膏板、木板)</option>
                        <option value="soft">軟裝表面 (例如：布藝、吸音板)</option>
                    </select>
                    <p class="hint">材質越硬，聲音越容易反彈，迴音時間越長。</p>
                </div>
            </div>
            
            <div class="result-display">
                <h2>結果與控制</h2>
                
                <div class="result-group">
                    <label>殘響時間 ($\text{RT60}$):</label>
                    <div id="rt60Value" class="value-display">-- 秒</div>
                    <p class="hint">這是聲音從最大聲衰減到幾乎聽不見所需要的時間。$\text{RT60}$ 越短，房間聲音越清晰。</p>
                </div>
                
                <div class="control-group">
                    <button id="fireSoundButton">發射聲音脈衝</button>
                    <p class="hint">點擊發射聲波，觀察聲音射線在房間中彈跳。射線越快消失，代表牆壁**吸收聲音的能力越強**。</p>
                </div>
            </div>

        </div>
        
        <div class="canvas-container">
            <canvas id="reverbCanvas"></canvas>
            <p class="canvas-caption">頂視圖：聲音發射點位於中央，射線模擬聲音的反射路徑。</p>
        </div>
        
        <div class="explanation">
            <h3>關於 $\text{RT60}$</h3>
            <ul>
                <li>**什麼是 $\text{RT60}$？** $\text{RT60}$ 是判斷一個房間聲音品質的重要指標。數值太高，會讓語音聽起來很含糊；數值太低，聲音會顯得太乾澀。</li>
                <li>**如何影響聲音？** 教學空間、音樂廳、錄音室都有不同的理想 $\text{RT60}$ 範圍。</li>
            </ul>
        </div>
    </div>

    <script src="reverb.js"></script>
</body>
</html>