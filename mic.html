<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound-Science-Simulations: 麥克風指向性模擬</title>
    <link rel="stylesheet" href="mic.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="icon" type="image/png" href="favicon.png"> 
</head>
<body>
    <div class="container">
        <h1>🎤 麥克風降噪與收音模擬</h1>
        <p>探索不同麥克風類型（例如助聽器）如何選擇性地接收<strong>來自前方的聲音</strong>，同時<strong>抑制背景噪音</strong>。</p>

        <div class="controls-grid">
            
            <div class="mic-selection-panel">
                <h2>麥克風類型選擇</h2>
                <select id="micTypeSelect">
                    <option value="Omnidirectional">1. 全向性 (Omni)</option>
                    <option value="Cardioid" selected>2. 心型 (Cardioid)</option>
                    <option value="Supercardioid">3. 超心型 (Supercardioid)</option>
                    <option value="Shotgun">4. 槍型 (Shotgun)</option>
                </select>
                
                <div id="micShapeContainer">
                    <svg id="micShapeSVG" width="100" height="220" viewBox="0 0 100 220"></svg>
                    <p id="micTypeDescription" class="description-text"></p>
                </div>
            </div>

            <div class="parameter-adjustment">
                <h2>參數調整</h2>

                <div class="control-group">
                    <label for="freqSlider">聲音頻率 (Hz): <span id="currentFreq">1000</span> Hz</label>
                    <input type="range" id="freqSlider" min="250" max="8000" value="1000" step="50">
                    <p class="hint">高頻的聲音通常指向性更強 (圖形會更尖銳)。</p>
                </div>
                
                <div class="control-group">
                    <label for="noiseAngleInput">背景噪音角度 (0° 正前方): <span id="currentNoiseAngle">180</span>°</label>
                    <input type="range" id="noiseAngleInput" min="0" max="359" value="180" step="1">
                    <p class="hint">紅點是噪音來源。曲線越往圓心縮（紅色標記處），代表對這個角度的噪音<strong>隔絕效果越好</strong>。</p>
                </div>
                
                <div class="control-group snr-display">
                    <label>目標語音增強 (SNR 改善):</label>
                    <div id="snrImprovementValue" class="snr-value">+3.9 dB</div> <p class="hint">這個數值代表麥克風能把<strong>目標聲音</strong>（例如人說話）比<strong>背景噪音</strong>放大多少。數值越高，您聽到的聲音就越清晰。</p>
                </div>

            </div>

        </div>

        <div class="chart-container">
            <canvas id="polarChart"></canvas>
        </div>

        <div class="explanation">
            <h3>圖表說明：收音範圍圖</h3>
            <ul>
                <li><strong>角度 (θ):</strong> 圓周代表聲音從哪個方向傳來。 $0^\circ$ 是麥克風的正前方。</li>
                <li><strong>距離 (dB):</strong> 曲線離圓心越遠，表示麥克風對該方向的聲音<strong>收得越清楚</strong>。</li>
                <li><strong>觀察重點:</strong> 
                    <ul>
                        <li>曲線離圓心**越遠**（靠近外圍），表示麥克風對該角度的**收音越強**。</li>
                        <li>曲線離圓心**越近**，表示麥克風對該角度的噪音會被**抑制越多**（降噪效果越好）。</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <script src="mic.js"></script>
</body>
</html>